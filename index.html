<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ondwariobiko - Brand & Frontend Developer</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        /* --- THEME VARIABLES --- */
        :root {
            /* Default (Dark Mode) Variables */
            --color-bg-primary: #0A0A0A;
            --color-bg-secondary: #0F0F0F;
            --color-text-primary: #E5E7EB;
            --color-header-bg: rgba(10, 10, 10, 0.9);
            --color-border-subtle: rgba(255, 255, 255, 0.05);
            --color-accent: #06B6D4; /* cyan-400 */
        }
        
        /* Define base styles using CSS variables */
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-bg-primary);
            color: var(--color-text-primary);
            cursor: none; /* Hide default cursor */
            overflow-x: hidden; /* Prevent horizontal scrolling */
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Subtle background overlay for depth, fixed position */
        .background-depth {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            opacity: 0.1;
            /* Radial glow uses accent color */
            background: radial-gradient(circle at 50% 10%, var(--color-accent) 0%, transparent 40%);
            transition: background 0.5s ease;
        }

        /* NEW: Hero Animated Grid Background */
        .hero-grid-bg {
            position: absolute;
            inset: 0;
            background-image: radial-gradient(var(--color-accent) 1px, transparent 1px);
            background-size: 30px 30px;
            animation: pan-bg 120s linear infinite;
            opacity: 0.05;
            pointer-events: none;
            z-index: -1;
        }
        
        @keyframes pan-bg {
            from { background-position: 0 0; }
            to { background-position: -3000px 3000px; }
        }

        /* Custom selection color */
        ::selection { background-color: var(--color-accent); color: var(--color-bg-primary); }

        /* Custom Cursor - Only visible on non-mobile devices (disabled via JS) */
        .cursor-dot, .cursor-outline {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 9999;
            border-radius: 50%;
        }
        .cursor-dot {
            width: 8px;
            height: 8px;
            background-color: var(--color-text-primary); /* Uses text color */
            transform: translate(-50%, -50%);
            mix-blend-mode: difference;
            transition: width 0.3s ease, height 0.3s ease;
        }
        .cursor-outline {
            width: 40px;
            height: 40px;
            border: 1.5px solid var(--color-accent); /* Uses accent color (Cyan in dark mode) */
            transform: translate(-50%, -50%);
            transition: transform 0.3s ease, border-color 0.3s ease, width 0.3s ease, height 0.3s ease;
        }

        /* Floating Project Preview */
        .project-preview {
            position: fixed;
            top: 0;
            left: 0;
            width: 30vw;
            max-width: 400px;
            height: 45vh;
            pointer-events: none;
            z-index: 10;
            overflow: hidden;
            border-radius: 1.5rem;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.8);
            opacity: 0;
            will-change: transform, opacity;
            transform: translate(-50%, -50%) scale(0.7);
            border: 1px solid var(--color-accent);
        }
        .project-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform-origin: center;
        }

        /* Styling for the sticky header with backdrop blur */
        .header-bg {
            -webkit-backdrop-filter: blur(16px);
            backdrop-filter: blur(16px);
            background-color: var(--color-header-bg);
            border-bottom: 1px solid var(--color-border-subtle);
        }

        /* Project hover background uses dynamic opacity over the accent color */
        .project-hover-bg {
            background-color: var(--color-accent);
            opacity: 0.1;
        }

        /* CTA Button Dynamic Styling */
        .cta-button {
            background-color: var(--color-accent);
            color: var(--color-bg-primary);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: box-shadow 0.3s ease, transform 0.3s ease;
        }
        .cta-button:hover {
            transform: translateY(-2px);
            /* Dynamic shadow using the accent color for a glow effect on hover */
            box-shadow: 0 20px 25px -5px var(--color-accent), 0 8px 10px -6px var(--color-accent);
        }

        /* Updated Skill Tag for a deeper, glowing look */
        .theme-skill-tag {
            background-color: #0F0F0F;
            border-color: #164E63;
            box-shadow: inset 0 2px 4px 0 rgba(0,0,0,0.5);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .theme-skill-tag:hover {
            background-color: #164E63;
            box-shadow: inset 0 2px 4px 0 rgba(0,0,0,0.5), 0 0 10px rgba(6, 182, 212, 0.4);
            transform: translateY(-1px);
        }

        /* NEW: Sticky CTA styling */
        .sticky-cta {
            position: fixed;
            bottom: -100px; /* Hidden initially */
            right: 20px;
            z-index: 50;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .sticky-cta.active {
            bottom: 20px;
            opacity: 1;
        }
        
        /* NEW: Process Card Styling */
        .process-card {
            background-color: var(--color-bg-secondary);
            border: 1px solid var(--color-border-subtle);
            transition: all 0.3s ease;
        }
        .process-card:hover {
            border-color: var(--color-accent);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(6, 182, 212, 0.15);
        }

        /* Mobile Menu Custom Styling */
        #mobile-menu.open {
            transform: translate-x-0;
            /* Enhance background for better visibility over content */
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            background-color: rgba(0, 0, 0, 0.95);
        }
    </style>
</head>
<body class="antialiased">
    <!-- Subtle Background Depth Element -->
    <div class="background-depth"></div>

    <!-- Custom Cursor - Hidden on mobile via JS -->
    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>

    <!-- Floating Project Preview Container - Hidden on mobile via JS -->
    <div class="project-preview"></div>

    <!-- Header (Fixed and modern sticky style) -->
    <header class="fixed top-0 left-0 right-0 z-50 header-bg">
        <div class="max-w-screen-xl mx-auto px-6 md:px-10">
            <div class="flex justify-between items-center py-5">
                <!-- Logo -->
                <a href="#" class="text-2xl font-black tracking-tight text-white z-[60]">ondwariobiko</a>
                
                <!-- Desktop Nav (Hidden on mobile/tablet) -->
                <nav class="hidden md:flex items-center space-x-6 text-sm">
                    <a href="#work" class="text-gray-400 hover:text-cyan-400 transition-colors font-semibold">Work</a>
                    <a href="#process" class="text-gray-400 hover:text-cyan-400 transition-colors font-semibold">Process</a>
                    <a href="#contact" class="text-gray-400 hover:text-cyan-400 transition-colors font-semibold">Contact</a>
                </nav>
                
                <!-- Mobile Menu Button (Visible on mobile/tablet) -->
                <button id="menu-toggle" aria-label="Toggle Mobile Menu" class="md:hidden text-white relative z-[60]">
                    <i data-lucide="menu" class="w-7 h-7"></i>
                </button>
            </div>
        </div>
    </header>

    <main class="pt-24">
        <!-- Section 1: Hero -->
        <section id="hero" class="relative min-h-[65vh] md:min-h-[75vh] flex items-center overflow-hidden">
            <!-- Animated Grid Background -->
            <div class="hero-grid-bg"></div>

            <div class="max-w-screen-xl mx-auto px-6 md:px-10 grid md:grid-cols-2 gap-12 items-center relative z-10">
                <!-- Left Column: Big Headline -->
                <div class="md:col-span-1 pt-10 pb-0 md:py-0">
                    <h1 class="text-5xl sm:text-6xl lg:text-8xl xl:text-[8rem] font-extrabold tracking-tighter leading-none text-white lg:leading-[0.9]">
                        <span class="block">Brand Designer</span>
                        <span class="block text-cyan-400">Problem Solver</span>
                    </h1>
                </div>

                <!-- Right Column: Details & CTA -->
                <div class="md:col-span-1 md:ml-auto md:text-right">
                    <p class="text-xl text-gray-300 leading-relaxed max-w-sm md:max-w-none mb-6 md:ml-auto">
                        I specialize in logo design and strategic brand identity, delivering these visions through pixel-perfect web design and robust front-end development.
                    </p>

                    <!-- Prominent CTA Button -->
                    <a href="#contact" id="hero-cta" class="inline-block mt-4 px-8 py-4 font-bold text-lg rounded-xl cta-button">
                        Start a Project
                    </a>
                </div>
            </div>
        </section>

        <!-- Section 2: Work Index -->
        <section id="work" class="py-12 md:py-32">
            <div class="max-w-screen-xl mx-auto px-6 md:px-10">
                <h2 class="text-sm uppercase font-bold tracking-[0.2em] mb-12 text-gray-500">Selected Work</h2>

                <div id="project-list" class="border-t border-gray-800">
                    <!-- Project 1 -->
                    <a href="#" class="project-item group block border-b border-gray-800 relative transition-all duration-500 overflow-hidden"
                       data-image="https://placehold.co/1200x1600/171717/06B6D4?text=Soko+Fresh+App+Concept">
                        <div class="absolute inset-0 transform translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-in-out z-0 project-hover-bg"></div>
                        <div class="flex justify-between items-center py-8 sm:py-10 px-0 relative z-10">
                            <h3 class="text-3xl sm:text-6xl md:text-7xl font-extrabold tracking-tighter group-hover:text-cyan-400 transition-all duration-500 group-hover:translate-x-3 ease-in-out">Soko Fresh</h3>
                            <div class="text-right text-gray-500 text-base md:text-xl font-medium min-w-[70px]">
                                <p class="group-hover:text-white transition-colors duration-500">UI/UX Design</p>
                                <p class="text-sm text-gray-600 mt-1">2025</p>
                            </div>
                        </div>
                    </a>
                    <!-- Project 2 -->
                    <a href="#" class="project-item group block border-b border-gray-800 relative transition-all duration-500 overflow-hidden"
                       data-image="https://placehold.co/1200x1600/171717/FDBA74?text=Aura+Brand+Identity">
                        <div class="absolute inset-0 transform translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-in-out z-0 project-hover-bg"></div>
                        <div class="flex justify-between items-center py-8 sm:py-10 px-0 relative z-10">
                             <h3 class="text-3xl sm:text-6xl md:text-7xl font-extrabold tracking-tighter group-hover:text-cyan-400 transition-all duration-500 group-hover:translate-x-3 ease-in-out">Aura Wellness</h3>
                             <div class="text-right text-gray-500 text-base md:text-xl font-medium min-w-[70px]">
                                <p class="group-hover:text-white transition-colors duration-500">Branding & Strategy</p>
                                <p class="text-sm text-gray-600 mt-1">2024</p>
                            </div>
                        </div>
                    </a>
                     <!-- Project 3 -->
                    <a href="#" class="project-item group block border-b border-gray-800 relative transition-all duration-500 overflow-hidden"
                       data-image="https://placehold.co/1200x1600/171717/4ADE80?text=EcoRoute+Platform">
                        <div class="absolute inset-0 transform translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-in-out z-0 project-hover-bg"></div>
                        <div class="flex justify-between items-center py-8 sm:py-10 px-0 relative z-10">
                             <h3 class="text-3xl sm:text-6xl md:text-7xl font-extrabold tracking-tighter group-hover:text-cyan-400 transition-all duration-500 group-hover:translate-x-3 ease-in-out">EcoRoute</h3>
                             <div class="text-right text-gray-500 text-base md:text-xl font-medium min-w-[70px]">
                                <p class="group-hover:text-white transition-colors duration-500">Full Stack Development</p>
                                <p class="text-sm text-gray-600 mt-1">2024</p>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <!-- Section 3: The Process -->
        <section id="process" class="py-12 md:py-24 border-t border-gray-900">
            <div class="max-w-screen-xl mx-auto px-6 md:px-10">
                <h2 class="text-sm uppercase font-bold tracking-[0.2em] mb-4 text-gray-500">My Approach</h2>
                <h3 class="text-3xl md:text-5xl font-extrabold tracking-tighter max-w-3xl mb-12 text-white">
                    A four-step strategy for high-impact results.
                </h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- Process Card 1: Discovery -->
                    <div class="process-card p-6 rounded-2xl">
                        <span class="text-5xl font-extrabold text-cyan-400 opacity-70">01</span>
                        <h4 class="text-xl font-bold mt-3 mb-2">Discovery & Strategy</h4>
                        <p class="text-gray-400 text-base">We define goals, target audience, and competitive landscape. This phase sets the strategic direction for both design and code.</p>
                    </div>
                    <!-- Process Card 2: Design -->
                    <div class="process-card p-6 rounded-2xl">
                        <span class="text-5xl font-extrabold text-cyan-400 opacity-70">02</span>
                        <h4 class="text-xl font-bold mt-3 mb-2">Brand & UI/UX Design</h4>
                        <p class="text-gray-400 text-base">I create compelling brand identities and responsive, user-centric wireframes and prototypes using Figma.</p>
                    </div>
                    <!-- Process Card 3: Development -->
                    <div class="process-card p-6 rounded-2xl">
                        <span class="text-5xl font-extrabold text-cyan-400 opacity-70">03</span>
                        <h4 class="text-xl font-bold mt-3 mb-2">Development & Iteration</h4>
                        <p class="text-gray-400 text-base">Translating approved designs into robust, performant, and scalable front-end code with modern best practices.</p>
                    </div>
                    <!-- Process Card 4: Deployment -->
                    <div class="process-card p-6 rounded-2xl">
                        <span class="text-5xl font-extrabold text-cyan-400 opacity-70">04</span>
                        <h4 class="text-xl font-bold mt-3 mb-2">Launch & Hand-off</h4>
                        <p class="text-gray-400 text-base">Final testing, seamless deployment, and comprehensive documentation for future maintenance and scalability.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: About/Skills -->
        <section id="about" class="py-12 md:py-24 border-t border-gray-900">
            <div class="max-w-screen-xl mx-auto px-6 md:px-10 grid md:grid-cols-3 gap-12">
                <div class="md:col-span-1">
                    <h4 class="text-xl font-bold text-cyan-400">Philosophy</h4>
                </div>
                <div class="md:col-span-2">
                    <p class="text-xl sm:text-2xl text-gray-300 leading-relaxed max-w-2xl">
                        I focus on blending pixel-perfect design with robust, scalable code. My process is collaborative, iterative, and always centered on delivering tangible business results and delightful user interactions. I believe in minimal complexity and maximum impact.
                    </p>
                    <div class="mt-12">
                        <h5 class="text-sm uppercase font-bold tracking-[0.2em] mb-4 text-gray-500">Core Expertise</h5>
                        <div class="flex flex-wrap gap-3">
                            <!-- Skill Tags - Use consolidated dark mode styles (theme-skill-tag class) -->
                            <span class="px-4 py-2 text-base font-semibold text-cyan-400 rounded-full border transition-all duration-300 theme-skill-tag">Brand Identity & Strategy</span>
                            <span class="px-4 py-2 text-base font-semibold text-cyan-400 rounded-full border transition-all duration-300 theme-skill-tag">Logo Design</span>
                            <span class="px-4 py-2 text-base font-semibold text-cyan-400 rounded-full border transition-all duration-300 theme-skill-tag">Front-End Development</span>
                            <span class="px-4 py-2 text-base font-semibold text-cyan-400 rounded-full border transition-all duration-300 theme-skill-tag">Web Design (UI/UX)</span>
                            <span class="px-4 py-2 text-base font-semibold text-cyan-400 rounded-full border transition-all duration-300 theme-skill-tag">Figma & Prototyping</span>
                            <span class="px-4 py-2 text-base font-semibold text-cyan-400 rounded-full border transition-all duration-300 theme-skill-tag">Problem Solving</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <!-- Section 5: Footer/Contact -->
        <footer id="contact" class="py-12 md:py-20 border-t border-gray-900 bg-[#0F0F0F]">
            <div class="max-w-screen-xl mx-auto px-6 md:px-10">
                <div class="grid md:grid-cols-2 gap-12">
                    <div>
                        <h3 class="text-4xl md:text-6xl font-extrabold tracking-tighter leading-snug">
                            Ready to launch your <span class="text-cyan-400">next big thing?</span>
                        </h3>
                        <p class="mt-6 text-lg text-gray-400 max-w-md">Let's connect and discuss how we can bring your vision to life with strategic design and development.</p>

                         <p class="text-xl mt-6 text-gray-400 flex items-center gap-2">
                             <i data-lucide="phone" class="w-5 h-5 text-cyan-400"></i>
                             <a href="tel:+254702255575" class="hover:text-cyan-400 transition-colors">+254 702 255 575</a>
                         </p>
                    </div>

                    <!-- Contact Links -->
                    <div class="flex flex-col justify-end items-start md:items-end mt-8 md:mt-0">
                         <a href="mailto:ondwariobiko@gmail.com" class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-extrabold text-white inline-block relative group mb-6 sm:mb-10 break-words">
                            <span>ondwariobiko@gmail.com</span>
                            <!-- Underline hover effect -->
                            <span class="absolute -bottom-1 left-0 w-0 h-1 bg-cyan-400 transition-all duration-500 group-hover:w-full rounded-full"></span>
                        </a>

                        <!-- Enhanced Social Links -->
                        <div class="flex flex-wrap gap-4 text-lg">
                            <a href="#" aria-label="LinkedIn Profile" class="p-3 rounded-full text-gray-500 hover:text-cyan-400 transition-all duration-300 border bg-gray-900 hover:bg-gray-800 border-gray-800">
                                <i data-lucide="linkedin" class="w-6 h-6"></i>
                            </a>
                            <a href="#" aria-label="Instagram Profile" class="p-3 rounded-full text-gray-500 hover:text-cyan-400 transition-all duration-300 border bg-gray-900 hover:bg-gray-800 border-gray-800">
                                <i data-lucide="instagram" class="w-6 h-6"></i>
                            </a>
                            <a href="#" aria-label="Behance Portfolio" class="p-3 rounded-full text-gray-500 hover:text-cyan-400 transition-all duration-300 border bg-gray-900 hover:bg-gray-800 border-gray-800">
                                <i data-lucide="layout-grid" class="w-6 h-6"></i>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Legal Links and Copyright -->
                <div class="mt-16 pt-8 border-t border-gray-800 flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 text-sm text-gray-500">
                    <p class="order-2 sm:order-1 text-center sm:text-left">
                        &copy; 2025 – 2026 ondwariobiko. All rights reserved.
                    </p>

                    <div class="order-1 sm:order-2 flex flex-wrap justify-center gap-x-3 sm:gap-x-6 gap-y-2 font-medium">
                        <a href="#" class="hover:text-cyan-400 transition-colors">Privacy Policy</a>
                        <a href="#" class="hover:text-cyan-400 transition-colors">Terms of Service</a>
                        <a href="#" class="hover:text-cyan-400 transition-colors">Careers</a>
                    </div>
                </div>
            </div>
        </footer>
    </main>
    
    <!-- Mobile Menu Overlay (Off-screen initially) -->
    <div id="mobile-menu" class="fixed inset-0 bg-black z-55 transform translate-x-full transition-transform duration-500 ease-in-out md:hidden flex flex-col justify-center items-center">
        <!-- Close Button -->
        <button id="menu-close" aria-label="Close Mobile Menu" class="absolute top-6 right-6 text-white z-60">
            <i data-lucide="x" class="w-10 h-10 text-cyan-400"></i>
        </button>
        
        <!-- Mobile Navigation Links -->
        <nav class="flex flex-col space-y-8 text-center">
            <!-- Data-target attribute is no longer strictly needed but kept for context -->
            <a href="#work" class="mobile-link text-5xl font-extrabold text-white hover:text-cyan-400 transition-colors tracking-tighter" data-target="work">Work</a>
            <a href="#process" class="mobile-link text-5xl font-extrabold text-white hover:text-cyan-400 transition-colors tracking-tighter" data-target="process">Process</a>
            <a href="#about" class="mobile-link text-5xl font-extrabold text-white hover:text-cyan-400 transition-colors tracking-tighter" data-target="about">About</a>
            <a href="#contact" class="mobile-link text-5xl font-extrabold text-white hover:text-cyan-400 transition-colors tracking-tighter" data-target="contact">Contact</a>
        </nav>

        <!-- Contact Info (for Mobile) -->
        <div class="absolute bottom-10 text-center">
            <p class="text-gray-400 mb-2">Get in touch</p>
            <a href="mailto:ondwariobiko@gmail.com" class="text-lg font-medium text-cyan-400">ondwariobiko@gmail.com</a>
        </div>
    </div>
    
    <!-- Sticky CTA Button (Hidden until scrolled) -->
    <a href="#contact" class="sticky-cta px-6 py-3 font-bold rounded-xl cta-button shadow-2xl md:hidden">
        Start Project
    </a>

    <!-- Load JS Libraries at the end of the body for guaranteed loading before main script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <!-- FIX: Added ScrollToPlugin for smooth, offset-aware internal scrolling -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        document.addEventListener('DOMContentLoaded', () => {
            // FIX: Register ScrollToPlugin along with ScrollTrigger
            gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);
            gsap.config({ nullTargetWarn: false });

            // Detect mobile/tablet screens (<= 1024px) for disabling custom cursor/preview
            const isMobile = window.matchMedia("(max-width: 1024px)").matches;

            // --- Mobile Menu Logic ---
            const menuToggle = document.getElementById('menu-toggle');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuClose = document.getElementById('menu-close');
            const mobileLinks = document.querySelectorAll('.mobile-link');
            const ANIMATION_DURATION = 500; // Matches CSS transition-duration: 500ms
            const HEADER_OFFSET = 80; // Approximate height of the fixed header

            function toggleMenu(isOpen = null) {
                const shouldOpen = isOpen !== null ? isOpen : !mobileMenu.classList.contains('open');

                if (shouldOpen) {
                    mobileMenu.classList.add('open');
                    document.body.style.overflowY = 'hidden'; // Lock scroll
                } else {
                    mobileMenu.classList.remove('open');
                    // Unlock scroll after the menu animation finishes. This is critical.
                    setTimeout(() => {
                        document.body.style.overflowY = 'auto';
                    }, ANIMATION_DURATION);
                }
            }

            // FIX: Simplified menuToggle click handler
            if (menuToggle) {
                 menuToggle.addEventListener('click', () => {
                    // Removed preventDefault/stopPropagation as they can interfere with touch events on the button
                    toggleMenu();
                });
            }
            if (menuClose) {
                menuClose.addEventListener('click', () => toggleMenu(false));
            }

            // FIX: Close menu, unlock scroll immediately, then handle delayed smooth navigation
            mobileLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault(); // Stop instant navigation

                    // Check if it's running on mobile before attempting menu logic
                    if (isMobile) {
                        // 1. Close the menu immediately (starts CSS transition)
                        mobileMenu.classList.remove('open');
                        
                        // 2. UNLOCK BODY SCROLL IMMEDIATELY before setting the timeout for scroll.
                        // This resolves the primary issue where the scroll lock prevents the scroll from working.
                        document.body.style.overflowY = 'auto'; 

                        // 3. Wait for the visual transition to finish, then smoothly scroll
                        const targetId = link.getAttribute('href'); // e.g., "#work"
                        
                        setTimeout(() => {
                            gsap.to(window, {
                                duration: 1, // Smooth scroll duration
                                scrollTo: {
                                    y: targetId,
                                    offsetY: HEADER_OFFSET // Offset to account for the fixed header
                                },
                                ease: 'power2.out'
                            });
                        }, ANIMATION_DURATION);
                    } else {
                        // Fallback for desktop if somehow triggered
                        window.location.href = link.getAttribute('href');
                    }
                });
            });
            
            // --- Custom Cursor Logic (Disabled on mobile) ---
            const cursorDot = document.querySelector('.cursor-dot');
            const cursorOutline = document.querySelector('.cursor-outline');
            const projectPreview = document.querySelector('.project-preview');
            const projectItems = document.querySelectorAll('.project-item');

            if (!isMobile) {
                // If it's a desktop/large screen, enable custom cursor/preview logic
                gsap.set(cursorDot, { xPercent: -50, yPercent: -50 });
                gsap.set(cursorOutline, { xPercent: -50, yPercent: -50 });

                let mouseX = 0, mouseY = 0, posX = 0, posY = 0;

                window.addEventListener('mousemove', e => {
                    mouseX = e.clientX;
                    mouseY = e.clientY;
                });

                // GSAP ticker for smooth cursor movement
                gsap.ticker.add(() => {
                    posX += (mouseX - posX) * 0.1; // Slower easing for outline
                    posY += (mouseY - posY) * 0.1;
                    gsap.set(cursorDot, { left: mouseX, top: mouseY });
                    gsap.set(cursorOutline, { left: posX, top: posY });
                });

                // --- Project Preview Logic (Desktop Only) ---
                let previewImage = null;
                const darkAccentColor = '#06B6D4';

                projectItems.forEach(item => {
                    item.addEventListener('mouseenter', function() {
                        const imageUrl = this.dataset.image;

                        // Load image and set content
                        if (!previewImage || previewImage.src !== imageUrl) {
                            previewImage = new Image();
                            previewImage.src = imageUrl;
                            previewImage.classList.add('w-full', 'h-full', 'object-cover');
                            projectPreview.innerHTML = '';
                            projectPreview.appendChild(previewImage);
                        }

                        // Animate preview visibility
                        gsap.to(projectPreview, {
                            opacity: 1,
                            scale: 1,
                            duration: 0.5,
                            ease: 'power3.out'
                        });

                        // Enlarge cursor outline on hover
                        gsap.to(cursorOutline, {
                            width: 60,
                            height: 60,
                            borderWidth: 2,
                            borderColor: darkAccentColor,
                            duration: 0.3
                        });
                    });

                    item.addEventListener('mouseleave', function() {
                        // Animate preview hiding
                        gsap.to(projectPreview, {
                            opacity: 0,
                            scale: 0.7,
                            duration: 0.5,
                            ease: 'power3.out'
                        });

                        // Reset cursor size and color
                        gsap.to(cursorOutline, {
                            width: 40,
                            height: 40,
                            borderWidth: 1.5,
                            borderColor: darkAccentColor,
                            duration: 0.3
                        });
                    });

                    // Track mouse movement over the item for positioning and tilt effect
                    item.addEventListener('mousemove', e => {
                        const bounds = item.getBoundingClientRect();
                        const xRatio = (e.clientX - bounds.left) / bounds.width - 0.5; // -0.5 to 0.5
                        const yRatio = (e.clientY - bounds.top) / bounds.height - 0.5; // -0.5 to 0.5

                        // Position preview with offset
                        gsap.to(projectPreview, {
                            x: e.clientX + 40,
                            y: e.clientY + 40,
                            duration: 0.5,
                            ease: 'power2.out'
                        });

                        // Subtle 3D tilt on the preview image
                        gsap.to(projectPreview.querySelector('img'), {
                            rotationX: yRatio * -5,
                            rotationY: xRatio * 5,
                            scale: 1.05,
                            duration: 0.5,
                            ease: 'power2.out'
                        });
                    });
                });
            } else {
                // Remove custom cursor and preview on mobile to prevent layout issues
                cursorDot?.remove();
                cursorOutline?.remove();
                projectPreview?.remove();
                document.body.style.cursor = 'default'; // Restore default cursor
            }

            // --- GSAP ScrollTrigger Animations ---

            // Generic scroll reveal for all main sections
            const sections = document.querySelectorAll('section:not(#hero)');

            sections.forEach(section => {
                // Initial state: hidden and slightly below
                gsap.from(section.children, {
                    opacity: 0,
                    y: 50,
                    ease: "power2.out",
                    stagger: 0.1, // Stagger children elements for a nicer effect
                    scrollTrigger: {
                        trigger: section,
                        start: "top 85%", // Start animation when the top of the section hits 85% down the viewport
                        toggleActions: "play none none none"
                    }
                });
            });
            
            // --- Sticky CTA Logic ---
            const heroCta = document.getElementById('hero-cta');
            const stickyCta = document.querySelector('.sticky-cta');

            // Only activate if not on desktop (since desktop has the large hero CTA visible)
            if (isMobile) {
                ScrollTrigger.create({
                    trigger: heroCta,
                    start: "bottom top", // Trigger when the hero CTA scrolls past the top of the viewport
                    end: "max",
                    onEnter: () => stickyCta.classList.add('active'),
                    onLeaveBack: () => stickyCta.classList.remove('active'),
                });
            }
        });
    </script>
</body>
</html>
